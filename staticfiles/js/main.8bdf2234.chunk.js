(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{160:function(e,t,r){},164:function(e,t,r){"use strict";r.r(t);var a=r(1),c=r.n(a),n=r(38),s=r.n(n),i=r(0);var o=function(e){var t=e.value,r=e.text,a=e.color;return Object(i.jsxs)(c.a.Fragment,{children:[Object(i.jsx)("span",{children:Object(i.jsx)("i",{style:{color:a},className:t>=1?"fas fa-star":t>=.5?"fas fa-star-half-alt":"far fa-star"})}),Object(i.jsx)("span",{children:Object(i.jsx)("i",{style:{color:a},className:t>=2?"fas fa-star":t>=1.5?"fas fa-star-half-alt":"far fa-star"})}),Object(i.jsx)("span",{children:Object(i.jsx)("i",{style:{color:a},className:t>=3?"fas fa-star":t>=2.5?"fas fa-star-half-alt":"far fa-star"})}),Object(i.jsx)("span",{children:Object(i.jsx)("i",{style:{color:a},className:t>=4?"fas fa-star":t>=3.5?"fas fa-star-half-alt":"far fa-star"})}),Object(i.jsx)("span",{children:Object(i.jsx)("i",{style:{color:a},className:t>=5?"fas fa-star":t>=4.5?"fas fa-star-half-alt":"far fa-star"})}),Object(i.jsx)("span",{children:r})]})},d=r(17),j=r(106),l=r(197),u=r(181),p=r(182);var h=function(e){var t=e.products;return Object(i.jsx)(j.a,{md:4,xs:6,children:Object(i.jsxs)(l.a,{children:[Object(i.jsx)(d.Link,{to:"/details/".concat(t.id),children:Object(i.jsx)(l.a.Img,{src:t.image})}),Object(i.jsxs)(l.a.Body,{children:[Object(i.jsx)(l.a.Title,{children:t.name}),Object(i.jsx)(l.a.Text,{children:t.description}),Object(i.jsxs)(l.a.Title,{children:["NGN",t.price]}),Object(i.jsx)(o,{value:t.rating,color:"#FFD700"}),Object(i.jsxs)(u.a,{children:[Object(i.jsx)(d.Link,{to:t.countInstock?"/cart/".concat(t.id):"",children:Object(i.jsx)(p.a,{disabled:0==t.countInstock,children:"Add"})}),Object(i.jsx)(p.a,{children:"View"})]})]})]})})},b=r(11),O=r(14),x=r.n(O),f=r(23),m="PRODUCT_LIST_REQUEST",g="PRODUCT_LIST_SUCCESS",y="PRODUCT_LIST_FAIL",v="PRODUCT_DETAILS_REQUEST",I="PRODUCT_DETAILS_FAIL",S="PRODUCT_DETAILS_SUCCESS",E="PRODUCT_REVIEW_CREATE_REQUEST",C="PRODUCT_REVIEW_CREATE_FAIL",R="PRODUCT_REVIEW_CREATE_SUCCESS",k="PRODUCT_CREATE_REVIEW_RESET",L="PRODUCT_TOP_REQUEST",w="PRODUCT_TOP_FAIL",_="PRODUCT_TOP_SUCCESS",P=r(27),A=r.n(P),D=r(10),T=r(16),N=r(201),U=r(186),F=r(113),G=r(184),M=r(112);Object(T.a)(G.a)((function(e){var t,r=e.theme;return t={height:10,borderRadius:5},Object(D.a)(t,"&.".concat(M.a.colorPrimary),{backgroundColor:r.palette.grey["light"===r.palette.mode?200:800]}),Object(D.a)(t,"& .".concat(M.a.bar),{borderRadius:5,backgroundColor:"light"===r.palette.mode?"#1a90ff":"#308fe8"}),t}));var q=function(){return Object(i.jsx)(a.Fragment,{children:Object(i.jsxs)(N.a,{sx:{position:"relative"},children:[Object(i.jsx)(U.a,{variant:"determinate",sx:{color:function(e){return e.palette.grey["light"===e.palette.mode?200:800]}},size:40,thickness:4,value:100}),Object(i.jsx)(U.a,{variant:"indeterminate",disableShrink:!0,sx:Object(D.a)({color:function(e){return"light"===e.palette.mode?"#1a90ff":"#308fe8"},animationDuration:"550ms",position:"absolute",left:0},"& .".concat(F.a.circle),{strokeLinecap:"round"}),size:40,thickness:4})]})})},B=r(192);var Q=function(e){var t=e.text;return Object(i.jsx)(c.a.Fragment,{children:Object(i.jsx)(B.a,{severity:"error",children:t})})},J=r(188),$=r(21),V=r(199);var z=function(e){var t=e.page,r=e.pages,a=e.keyword;return a&&(a=a.split("?keyword=")[1].split("&")[0]),console.log("keyword:",a),r>1&&Object(i.jsx)(V.a,{children:Object($.a)(Array(r).keys()).map((function(e){return Object(i.jsx)(d.Link,{to:"/?keyword=".concat(a,"&page=").concat(e+1),active:e+1===t,children:Object(i.jsx)(p.a,{children:e+1})},e+1)}))})},W=r(194),H=r(187);var Y=function(){var e=Object(b.c)((function(e){return e.productGetTop})),t=(e.loading,e.products),r=(e.error,Object(b.b)());return Object(a.useEffect)((function(){r(function(){var e=Object(f.a)(x.a.mark((function e(t){var r,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:L}),e.next=4,A.a.get("/api/products/top");case 4:r=e.sent,a=r.data,t({type:_,payload:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:w,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),r),Object(i.jsx)(c.a.Fragment,{children:Object(i.jsx)(W.a,{pause:"hover",className:"bg-dark",children:t.map((function(e){return Object(i.jsx)(W.a.Item,{children:Object(i.jsxs)(d.Link,{to:"/details/".concat(e.id),children:[Object(i.jsx)(H.a,{src:e.image,alt:e.name,fluid:!0}),Object(i.jsx)(W.a.Caption,{className:"carousel.caption",children:Object(i.jsxs)("h4",{children:[e.name," (NGN",e.price,")"]})})]})})}))})})};var X=function(e){var t=e.history,r=Object(b.b)(),n=t.location.search,s=Object(b.c)((function(e){return e.productList})),o=s.error,d=s.loading,j=s.products,l=s.page,u=s.pages;return Object(a.useEffect)((function(){r(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(f.a)(x.a.mark((function t(r){var a,c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:m}),t.next=4,A.a.get("/api/products".concat(e));case 4:a=t.sent,c=a.data,r({type:g,payload:c}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:y,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(n))}),[r,n]),Object(i.jsxs)(c.a.Fragment,{children:[Object(i.jsx)(Y,{}),Object(i.jsxs)(J.a,{className:"mt-5",children:[Object(i.jsx)("h2",{children:"Featured Products"}),d?Object(i.jsx)(q,{}):o?Object(i.jsx)(Q,{text:o}):j.map((function(e){return Object(i.jsx)(h,{products:e},e.id)}))]}),Object(i.jsx)(J.a,{className:"mt-3",children:Object(i.jsx)(z,{page:l,pages:u,keyword:n})})]})},Z=r(19),K=r(9),ee=r(200),te=r(193),re=r(202),ae=r(2);var ce=function(e){var t=e.match,r=e.history,n=Object(b.c)((function(e){return e.productDetails})),s=n.loading,u=n.error,h=n.product,O=Object(b.c)((function(e){return e.productReviews})),m=(O.loading,O.success),g=O.error,y=(O.reviews,Object(a.useState)("")),L=Object(K.a)(y,2),w=L[0],_=L[1],P=Object(a.useState)(0),D=Object(K.a)(P,2),T=D[0],N=D[1],U=t.params.id,F=Object(b.c)((function(e){return e.userLogin})).userInfo,G=Object(b.b)(),M=Object(a.useState)(1),B=Object(K.a)(M,2),V=B[0],z=B[1];return Object(a.useEffect)((function(){var e;m&&(N(0),_(""),G({type:k})),G((e=t.params.id,function(){var t=Object(f.a)(x.a.mark((function t(r){var a,c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:v}),t.next=4,A.a.get("/api/products/".concat(e));case 4:a=t.sent,c=a.data,r({type:S,payload:c}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:I,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()))}),[_,N,m,G]),Object(i.jsxs)(c.a.Fragment,{children:[Object(i.jsx)(J.a,{marginTop:5,paddingBottom:5,children:Object(i.jsx)(d.Link,{to:"/",children:Object(i.jsx)(p.a,{children:"Back"})})}),s?Object(i.jsx)(q,{}):u?Object(i.jsx)(Q,{text:u}):Object(i.jsxs)(J.a,{container:!0,xs:12,spacing:2,marginLeft:10,marginRight:2,children:[Object(i.jsx)(j.a,{xs:6,children:Object(i.jsx)(l.a.Img,{alt:h.name,src:h.image,height:"300px"})}),Object(i.jsx)(j.a,{xs:6,children:Object(i.jsxs)(ee.a,{children:[Object(i.jsx)(ee.a.Item,{children:Object(i.jsx)("h6",{variant:"h5",children:h.name})}),Object(i.jsx)(ee.a.Item,{children:Object(i.jsxs)("h6",{variant:"h6",children:["NGN",h.price]})}),Object(i.jsx)(ee.a.Item,{children:Object(i.jsx)(o,{value:h.rating,text:"".concat(h.numReviews," Reviews"),color:"#f8e825"})}),Object(i.jsx)(ee.a.Item,{children:Object(i.jsx)("h6",{varaiant:"body1",children:h.description})})]})}),Object(i.jsx)(j.a,{xs:5,children:Object(i.jsxs)(ee.a,{children:[Object(i.jsx)(ee.a.Item,{children:Object(i.jsxs)(J.a,{xs:4,container:!0,children:[Object(i.jsx)(j.a,{xs:6,children:Object(i.jsx)("h6",{variant:"h6",children:"Price: "})}),Object(i.jsx)(j.a,{xs:6,children:Object(i.jsxs)("h6",{variant:"h6",children:["NGN",h.price]})})]})}),Object(i.jsx)(ee.a.Item,{children:Object(i.jsxs)(J.a,{xs:4,container:!0,children:[Object(i.jsx)(j.a,{xs:6,children:Object(i.jsx)("h6",{variant:"h6",children:"Status:"})}),Object(i.jsx)(j.a,{xs:6,children:Object(i.jsx)("h6",{variant:"h6",children:h.countInstock>0?"In Stock":"Out of Stock"})})]})}),Object(i.jsx)(ee.a.Item,{children:h.countInstock>0&&Object(i.jsxs)("form",{onChange:function(e){z(e.target.value)},children:[Object(i.jsx)("label",{children:"Quantity:"}),Object(i.jsx)("select",{children:Object($.a)(Array(h.countInstock).keys()).map((function(e){return Object(i.jsx)("option",{value:e+1,children:e+1},e+1)}))})]})}),Object(i.jsx)(ee.a.Item,{children:Object(i.jsx)(p.a,{disabled:0==h.countInstock,onClick:function(){r.push("/cart/".concat(t.params.id,"?qty=").concat(V))},children:"Add to Cart"})})]})})]}),Object(i.jsx)(J.a,{children:Object(i.jsxs)(j.a,{md:6,children:[Object(i.jsx)("h2",{children:"REVIEWS"}),0===h.reviews.length&&Object(i.jsx)(Q,{variant:"info",text:"No Review"}),Object(i.jsxs)(ee.a,{children:[h.reviews.map((function(e){return Object(i.jsxs)(ee.a.Item,{children:[Object(i.jsx)("strong",{children:e.name?e.name:""}),Object(i.jsx)("p",{children:e.comment}),Object(i.jsx)(o,{value:e.rating,color:"#f8e825"})]})})),Object(i.jsxs)(ee.a.Item,{children:[Object(i.jsx)("h2",{children:"WRITE A REVIEW"}),g&&Object(i.jsx)(Q,{text:g}),F?Object(i.jsxs)(te.a,{onSubmit:function(e){e.preventDefault(),G(function(e,t){return function(){var r=Object(f.a)(x.a.mark((function r(a,c){var n,s,i,o,d;return x.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:try{a({type:E}),n=c(),s=n.userLogin.userInfo,i={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(s.token)}},o=A.a.post("/api/product/".concat(e,"/reviews"),t,i),d=o.data,a({type:R,payload:d})}catch(u){a({type:C,payload:u.response&&u.response.data.detail?u.response.data.detail:u.message})}case 1:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()}(U,{rating:T,comment:w}))},children:[Object(i.jsxs)(re.a,{children:[Object(i.jsx)(te.a.Label,{children:"Rating:"}),Object(i.jsxs)(te.a.Control,{as:"select",value:T,onChange:function(e){return N(e.target.value)},required:!0,children:[Object(i.jsx)("option",{value:"",children:"Select..."}),Object(i.jsx)("option",{value:"1",children:"1 - Poor"}),Object(i.jsx)("option",{value:"2",children:"2 - Fair"}),Object(i.jsx)("option",{value:"3",children:"3 - Good"}),Object(i.jsx)("option",{value:"4",children:"4 - Very Good"}),Object(i.jsx)("option",{value:"5",children:"5 - Excellent"})]})]}),Object(i.jsxs)(re.a,{children:[Object(i.jsx)(te.a.Label,{children:"Comment:"}),Object(i.jsx)(te.a.Control,{type:"textarea",row:"5",value:w,onChange:function(e){return _(e.target.value)},required:!0})]}),Object(i.jsx)(p.a,{type:"submit",children:"Add Review"})]}):Object(i.jsx)(Q,{text:"Login to write a review"})]})]})]})})]})},ne="CART_ADD_ITEM",se="CART_REMOVE_ITEM",ie="ADD_SHIPPING_INFO",oe="ADD_PAYMENT_METHOD_INFO",de="CART_ITEMS_CLEAR",je=function(e,t){return function(){var r=Object(f.a)(x.a.mark((function r(a,c){var n,s;return x.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,A.a.get("/api/products/".concat(e));case 2:n=r.sent,s=n.data,a({type:ne,payload:{product:s.id,name:s.name,image:s.image,price:s.price,countInstock:s.countInstock,qty:t}}),localStorage.setItem("cartItems",JSON.stringify(c().cart.cartItems));case 6:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()};var le=function(e){var t=e.match,r=e.history,n=e.location,s=Object(b.b)(),o=t.params.id,u=n.search?Number(n.search.split("=")[1]):1,h=Object(b.c)((function(e){return e.cart})).cartItems;Object(a.useEffect)((function(){o&&s(je(o,u))}),[s,o,u]);var O=function(e){s(function(e){return function(t,r){t({type:se,payload:e}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems))}}(e))};return Object(i.jsxs)(c.a.Fragment,{children:[Object(i.jsx)("h2",{children:"Shopping Cart"}),0===h.length?Object(i.jsx)(Q,{text:"Sorry. No cart items."}):Object(i.jsxs)(ee.a,{children:[h.map((function(e){return Object(i.jsx)(ee.a.Item,{variant:"flush",children:Object(i.jsxs)(J.a,{children:[Object(i.jsx)(j.a,{md:2,children:Object(i.jsx)(H.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(i.jsx)(j.a,{md:3,children:Object(i.jsx)(d.Link,{to:"/details/".concat(e.product),children:e.name})}),Object(i.jsxs)(j.a,{md:2,children:["$",e.price]}),Object(i.jsx)(j.a,{children:Object(i.jsx)(te.a,{value:e.product,onChange:function(t){s(je(e.product,Number(t.target.value)))},children:Object(i.jsx)("select",{children:Object($.a)(Array(e.countInstock).keys()).map((function(t){return Object(i.jsx)("option",{children:t+1},e.product)}))})})}),Object(i.jsx)(j.a,{md:1,children:Object(i.jsx)(p.a,{variant:"light",onClick:function(){return O(e.product)},children:Object(i.jsx)("i",{className:"fas fa-trash"})})})]})})})),Object(i.jsx)(ee.a.Item,{variant:"flush",children:Object(i.jsx)(j.a,{md:4,children:Object(i.jsxs)(l.a,{children:[Object(i.jsxs)("h1",{children:["Subtotal(",h.reduce((function(e,t){return e+t.qty}),0),")"]}),h.reduce((function(e,t){return e+t.qty*t.price}),0).toFixed(2)]})})}),Object(i.jsx)(ee.a.Item,{children:Object(i.jsx)(p.a,{disabled:0===h.length,type:"button",variant:"dark",className:"btn-block",onClick:function(){r.push("/shipping?redirect=login/")},children:"Proceed To Checkout"})})]})]})},ue=r(191),pe=r(189),he=r(198),be="USER_LOGIN_REQUEST",Oe="USER_LOGIN_SUCCESS",xe="USER_LOGIN_FAIL",fe="USER_LOGOUT",me="USER_REGISTER_REQUEST",ge="USER_REGISTER_SUCCESS",ye="USER_REGISTER_FAIL",ve="USER_DETAILS_REQUEST",Ie="USER_DETAILS_SUCCESS",Se="USER_DETAILS_FAIL",Ee="USER_DETAILS_UPDATE_REQUEST",Ce="USER_DETAILS_UPDATE_SUCCESS",Re="USER_DETAILS_UPDATE_FAIL",ke="USER_DETAILS_UPDATE_RESET",Le="USER_LIST_REQUEST",we="USER_LIST_SUCCESS",_e="USER_LIST_FAIL";var Pe=function(){var e=Object(Z.k)(),t=Object(a.useState)(""),r=Object(K.a)(t,2),n=r[0],s=r[1];return Object(i.jsx)(c.a.Fragment,{children:Object(i.jsxs)(te.a,{onSubmit:function(t){t.preventDefault(),e?e.push("/?keyword=".concat(n)):e.push(e.push(e.location.pathname))},inline:!0,children:[Object(i.jsx)(te.a.Control,{type:"text",value:n,onChange:function(e){return s(e.target.value)},name:"q"}),Object(i.jsx)(p.a,{type:"submit",className:"success-sm",children:"Search"})]})})};var Ae=function(){var e=Object(b.c)((function(e){return e.userLogin})).userInfo,t=Object(b.b)();return Object(i.jsx)("header",{children:Object(i.jsx)(ue.a,{bg:"dark",variant:"dark",color:"blue",children:Object(i.jsxs)(pe.a,{children:[Object(i.jsx)(ue.a.Brand,{href:"/",children:"9jaOk"}),Object(i.jsx)(Pe,{}),Object(i.jsxs)(he.a,{className:"me-auto",children:[Object(i.jsxs)(he.a.Link,{href:"/cart/",children:[Object(i.jsx)("i",{className:"fas fa-cart-plus mr-1"}),"Cart"]}),e?Object(i.jsxs)(he.a,{children:[Object(i.jsx)(he.a.Link,{children:e.name}),Object(i.jsx)(he.a.Link,{href:"",type:"submit",onClick:function(e){e.preventDefault(),t((function(e){localStorage.removeItem("userInfo"),e({type:fe})}))},children:"Logout"}),Object(i.jsxs)(he.a.Link,{href:"/profile/",children:[Object(i.jsx)("i",{className:"fas fa-user"}),"Profile"]}),Object(i.jsxs)(he.a.Link,{href:"/shipping/",children:[Object(i.jsx)("i",{className:"fas fa-use"}),"Shipping"]})]}):Object(i.jsxs)(he.a,{children:[Object(i.jsxs)(he.a.Link,{href:"/login/",children:[Object(i.jsx)("i",{className:"fas fa-user"}),"Login"]}),Object(i.jsxs)(he.a.Link,{href:"/register/",children:[Object(i.jsx)("i",{className:"fas fa-user"}),"Register"]})]})]})]})})})};var De=function(){return Object(i.jsx)(pe.a,{children:Object(i.jsx)("footer",{className:"footer text-center",children:Object(i.jsx)("h4",{children:"9jaOk copyright \xa9 2021"})})})},Te=(r(160),r(50));var Ne=function(e){var t=e.children;return Object(i.jsx)(c.a.Fragment,{children:Object(i.jsx)(pe.a,{children:Object(i.jsx)(J.a,{className:"justify-content-md-center",children:Object(i.jsx)(j.a,{xs:12,md:6,children:t})})})})};var Ue=function(e){var t=e.location,r=e.history,c=Object(a.useState)(""),n=Object(K.a)(c,2),s=n[0],o=n[1],j=Object(a.useState)(""),l=Object(K.a)(j,2),u=l[0],p=l[1],h=t.search?t.search.split("=")[1]:"/",O=Object(b.c)((function(e){return e.userLogin})),m=(O.loading,O.userInfo),g=(O.error,Object(b.b)());return Object(a.useEffect)((function(){m&&r.push(h)}),[m,h,r]),Object(i.jsxs)(Ne,{children:[Object(i.jsx)("h2",{children:"Sign In"}),Object(i.jsxs)(te.a,{onSubmit:function(e){e.preventDefault(),g(function(e,t){return function(){var r=Object(f.a)(x.a.mark((function r(a){var c,n,s;return x.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a({type:be}),c={headers:{"Content-type":"application/json"}},r.next=5,A.a.post("/api/account/login/",{username:e,password:t},c);case 5:n=r.sent,s=n.data,a({type:Oe,payload:s}),localStorage.setItem("userInfo",JSON.stringify(s)),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),a({type:xe,payload:r.t0.response&&r.t0.response.data.detail?r.t0.response.data.detail:r.t0.message});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}()}(s,u))},children:[Object(i.jsxs)(te.a.Group,{controlId:"email",children:[Object(i.jsx)(te.a.Label,{children:"Email:"}),Object(i.jsx)(te.a.Control,{type:"email",value:s,onChange:function(e){return o(e.target.value)},placeholder:"Enter email address"})]}),Object(i.jsxs)(te.a.Group,{controlId:"password",children:[Object(i.jsx)(te.a.Label,{children:"Password:"}),Object(i.jsx)(te.a.Control,{type:"password",value:u,onChange:function(e){return p(e.target.value)},placeholder:"Enter Password"})]}),Object(i.jsx)(Te.a,{type:"submit",variant:"primary",children:"Sign In"})]}),"Don't have an account yet? ",Object(i.jsx)(d.Link,{to:"/redirect?=".concat(h),children:"Register"})]})};var Fe=function(e){var t=e.location,r=e.history,c=Object(a.useState)(""),n=Object(K.a)(c,2),s=n[0],o=n[1],j=Object(a.useState)(""),l=Object(K.a)(j,2),u=l[0],h=l[1],O=Object(a.useState)(""),m=Object(K.a)(O,2),g=m[0],y=m[1],v=Object(a.useState)(""),I=Object(K.a)(v,2),S=I[0],E=I[1],C=Object(a.useState)(""),R=Object(K.a)(C,2),k=R[0],L=R[1],w=t.search?t.search.split("=")[1]:"/",_=Object(b.c)((function(e){return e.userRegister})),P=_.userInfo,D=(_.loading,_.error,Object(b.b)());return Object(a.useEffect)((function(){P&&r.push(w)}),[P,w,r]),Object(i.jsxs)(Ne,{children:[Object(i.jsx)("h2",{children:"Register"}),Object(i.jsx)("h2",{children:k}),Object(i.jsxs)(te.a,{onSubmit:function(e){e.preventDefault(),u!=g?L("Passwords must match"):(D(function(e,t,r){return function(){var a=Object(f.a)(x.a.mark((function a(c){var n,s,i;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c({type:me}),n={headers:{"Content-type":"application/json"}},a.next=5,A.a.post("/api/account/register/",{name:e,email:t,password:r},n);case 5:s=a.sent,i=s.data,c({type:ge,payload:i}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),c({type:ye,payload:a.t0.response&&a.t0.response.data.detail?a.t0.response.data.detail:a.t0.message});case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()}(S,s,u)),r.push("/login"))},children:[Object(i.jsxs)(te.a.Group,{controlId:"email",children:[Object(i.jsx)(te.a.Label,{children:"Email:"}),Object(i.jsx)(te.a.Control,{type:"email",placeholder:"Enter Email Address",value:s,required:!0,onChange:function(e){return o(e.target.value)}})]}),Object(i.jsxs)(te.a.Group,{controlId:"name",children:[Object(i.jsx)(te.a.Label,{children:"Name:"}),Object(i.jsx)(te.a.Control,{type:"name",placeholder:"Enter Name",value:S,required:!0,onChange:function(e){return E(e.target.value)}})]}),Object(i.jsxs)(te.a.Group,{controlId:"password",children:[Object(i.jsx)(te.a.Label,{children:"Password:"}),Object(i.jsx)(te.a.Control,{type:"password",placeholder:"Enter Account Password",value:u,required:!0,onChange:function(e){return h(e.target.value)}})]}),Object(i.jsxs)(te.a.Group,{controlId:"password",children:[Object(i.jsx)(te.a.Label,{children:"Confirm Password:"}),Object(i.jsx)(te.a.Control,{type:"password",placeholder:"Confirm Password",value:g,required:!0,onChange:function(e){return y(e.target.value)}})]}),Object(i.jsx)(p.a,{type:"submit",children:"Sign Up"})]}),"Already have an account? ",Object(i.jsx)(d.Link,{to:w?"/login?redirect=".concat(w):"/login",children:"Sign In"})]})},Ge=r(190),Me="ORDER_CREATE_REQUEST",qe="ORDER_CREATE_SUCCESS",Be="ORDER_CREATE_FAIL",Qe="ORDER_DETAILS_REQUEST",Je="ORDER_DETAILS_SUCCESS",$e="ORDER_DETAILS_FAIL",Ve="ORDER_PAY_REQUEST",ze="ORDER_PAY_SUCCESS",We="ORDER_PAY_FAIL",He="USER_ORDER_REQUEST",Ye="USER_ORDER_SUCCESS",Xe="USER_ORDER_FAIL";var Ze=function(e){var t=e.history,r=Object(a.useState)(""),c=Object(K.a)(r,2),n=c[0],s=c[1],o=Object(a.useState)(""),l=Object(K.a)(o,2),u=l[0],h=l[1],O=Object(a.useState)(""),m=Object(K.a)(O,2),g=m[0],y=m[1],v=Object(a.useState)(""),I=Object(K.a)(v,2),S=I[0],E=I[1],C=Object(a.useState)(""),R=Object(K.a)(C,2),k=(R[0],R[1]),L=Object(b.b)(),w=Object(b.c)((function(e){return e.userDetails})),_=(w.error,w.loading,w.user),P=Object(b.c)((function(e){return e.userLogin})).userInfo,D=Object(b.c)((function(e){return e.userDetailsUpdate})).success,T=Object(b.c)((function(e){return e.userOrders})),N=T.loading,U=T.orders,F=T.error;return Object(a.useEffect)((function(){var e;P?_&&_.name&&!D&&P.id===_.id?(s(_.name),h(_.email)):(L({type:ke}),L((e="profile",function(){var t=Object(f.a)(x.a.mark((function t(r,a){var c,n,s,i,o;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:ve}),c=a(),n=c.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n.token)}},t.next=6,A.a.get("/api/account/".concat(e,"/"),s);case 6:i=t.sent,o=i.data,r({type:Ie,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:Se,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}())),L(function(){var e=Object(f.a)(x.a.mark((function e(t,r){var a,c,n,s,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:He}),a=r(),c=a.userLogin.userInfo,n={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},e.next=6,A.a.get("/api/userorders/",n);case 6:s=e.sent,i=s.data,t({type:Ye,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:Xe,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}())):t.push("/login")}),[L,t,P,_,D]),Object(i.jsxs)(J.a,{children:[Object(i.jsxs)(j.a,{md:6,children:[Object(i.jsx)("h2",{children:"User Profile"}),Object(i.jsxs)(te.a,{onSubmit:function(e){e.preventDefault(),g!=S?k("Passwords do not match"):(L(function(e){return function(){var t=Object(f.a)(x.a.mark((function t(r,a){var c,n,s,i,o;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:Ee}),c=a(),n=c.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n.token)}},t.next=6,A.a.put("/api/account/profile/update/",e,s);case 6:i=t.sent,o=i.data,r({type:Ce,payload:o}),r({type:Oe,payload:o}),localStorage.setItem("userInfo",JSON.stringify(o)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),r({type:Re,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,r){return t.apply(this,arguments)}}()}({id:_.id,name:n,email:u,password:g})),k(""))},children:[Object(i.jsxs)(te.a.Group,{controlId:"name",children:[Object(i.jsx)(te.a.Label,{children:"Name"}),Object(i.jsx)(te.a.Control,{required:!0,type:"name",placeholder:"Enter name",value:n,onChange:function(e){return s(e.target.value)}})]}),Object(i.jsxs)(te.a.Group,{controlId:"email",children:[Object(i.jsx)(te.a.Label,{children:"Email Address"}),Object(i.jsx)(te.a.Control,{required:!0,type:"email",placeholder:"Enter Email",value:u,onChange:function(e){return h(e.target.value)}})]}),Object(i.jsxs)(te.a.Group,{controlId:"password",children:[Object(i.jsx)(te.a.Label,{children:"Password"}),Object(i.jsx)(te.a.Control,{type:"password",placeholder:"Enter Password",value:g,onChange:function(e){return y(e.target.value)}})]}),Object(i.jsxs)(te.a.Group,{controlId:"passwordConfirm",children:[Object(i.jsx)(te.a.Label,{children:"Confirm Password"}),Object(i.jsx)(te.a.Control,{type:"password",placeholder:"Confirm Password",value:S,onChange:function(e){return E(e.target.value)}})]}),Object(i.jsx)(p.a,{type:"submit",variant:"primary",children:"Update"})]})]}),Object(i.jsxs)(j.a,{children:[Object(i.jsx)("h2",{children:"My Orders"}),N?Object(i.jsx)(Q,{}):F?Object(i.jsx)(Q,{text:F}):Object(i.jsxs)(Ge.a,{striped:!0,responsive:!0,className:"table-sm",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"ID"}),Object(i.jsx)("th",{children:"Date"}),Object(i.jsx)("th",{children:"Total"}),Object(i.jsx)("th",{children:"Paid"}),Object(i.jsx)("th",{children:"Delivered"})]})}),Object(i.jsx)("tbody",{children:U&&U.map((function(e){return Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:e.id}),Object(i.jsx)("td",{children:e.createdAt.substring(0,10)}),Object(i.jsxs)("td",{children:["NGN",e.totalPrice]}),Object(i.jsx)("td",{children:e.paidAt}),Object(i.jsx)("td",{children:Object(i.jsx)(d.Link,{to:"/order/".concat(e.id),children:Object(i.jsx)(p.a,{type:"submit",children:"details"})})})]},e.id)}))})]})]})]})};var Ke=function(e){var t=e.history,r=Object(b.c)((function(e){return e.cart})).shippingInfo,c=Object(b.b)(),n=Object(a.useState)(r.address),s=Object(K.a)(n,2),o=s[0],d=s[1],j=Object(a.useState)(r.city),l=Object(K.a)(j,2),u=l[0],h=l[1],O=Object(a.useState)(r.postalCode),m=Object(K.a)(O,2),g=m[0],y=m[1],v=Object(a.useState)(r.country),I=Object(K.a)(v,2),S=I[0],E=I[1];return Object(i.jsxs)(Ne,{children:[Object(i.jsx)("h2",{children:"Shipping"}),Object(i.jsxs)(te.a,{onSubmit:function(e){var r;e.preventDefault(),console.log("submitted"),c((r={address:o,city:u,postalCode:g,country:S},function(){var e=Object(f.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:ie,payload:r}),localStorage.setItem("shippingAddress",JSON.stringify(r));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t.push("/payment/")},children:[Object(i.jsxs)(te.a.Group,{controlId:"address",children:[Object(i.jsx)(te.a.Label,{children:"Address"}),Object(i.jsx)(te.a.Control,{type:"text",placeholder:"Enter Address",value:o||"",onChange:function(e){d(e.target.value)}})]}),Object(i.jsxs)(te.a.Group,{controlId:"city",children:[Object(i.jsx)(te.a.Label,{children:"City"}),Object(i.jsx)(te.a.Control,{type:"text",placeholder:"Enter City",value:u||"",onChange:function(e){h(e.target.value)}})]}),Object(i.jsxs)(te.a.Group,{controlId:"postalCode",children:[Object(i.jsx)(te.a.Label,{children:"Postal Code"}),Object(i.jsx)(te.a.Control,{type:"text",placeholder:"Enter Postal Code",value:g||"",onChange:function(e){y(e.target.value)}})]}),Object(i.jsxs)(te.a.Group,{controlId:"country",children:[Object(i.jsx)(te.a.Label,{children:"Country"}),Object(i.jsx)(te.a.Control,{type:"text",placeholder:"Enter Country",value:S||"",onChange:function(e){E(e.target.value)}})]}),Object(i.jsx)(p.a,{type:"submit",children:"Next"})]})]})},et=r(70);var tt=function(e){var t=e.step1,r=e.step2,a=e.step3,c=e.step4;return Object(i.jsxs)(he.a,{className:"justify-content-center mb-4",children:[Object(i.jsx)(he.a.Item,{children:t?Object(i.jsx)(et.LinkContainer,{to:"/login",children:Object(i.jsx)(he.a.Link,{children:"Login"})}):Object(i.jsx)(he.a.Link,{disabled:!0,children:"Login"})}),Object(i.jsx)(he.a.Item,{children:r?Object(i.jsx)(et.LinkContainer,{to:"/shipping",children:Object(i.jsx)(he.a.Link,{children:"Shipping"})}):Object(i.jsx)(he.a.Link,{disabled:!0,children:"Shipping"})}),Object(i.jsx)(he.a.Item,{children:a?Object(i.jsx)(et.LinkContainer,{to:"/payment",children:Object(i.jsx)(he.a.Link,{children:"Payment"})}):Object(i.jsx)(he.a.Link,{disabled:!0,children:"Payment"})}),Object(i.jsx)(he.a.Item,{children:c?Object(i.jsx)(et.LinkContainer,{to:"/placeorder",children:Object(i.jsx)(he.a.Link,{children:"Place Order"})}):Object(i.jsx)(he.a.Link,{disabled:!0,children:"Place Order"})})]})};var rt=function(e){var t=e.history,r=Object(b.b)(),c=(Object(b.c)((function(e){return e.cart})).payment,Object(a.useState)("PayPal")),n=Object(K.a)(c,2),s=n[0],o=n[1];return Object(i.jsxs)(Ne,{children:[Object(i.jsx)(tt,{}),Object(i.jsx)("h2",{children:"Choose Payment Method"}),Object(i.jsxs)(te.a,{onSubmit:function(e){var a;e.preventDefault(),r((a=s,function(){var e=Object(f.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:oe,payload:a}),localStorage.setItem("paymentMethod",JSON.stringify(a));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t.push("/placeorder/")},children:[Object(i.jsx)(te.a.Group,{children:Object(i.jsx)(j.a,{children:Object(i.jsx)(te.a.Check,{type:"radio",label:"Paypal or Credit Card",checked:!0,onChange:function(e){o(e.target.value)},id:"paypal"})})}),Object(i.jsx)(p.a,{type:"submit",variant:"primary",children:"Continue"})]})]})};var at=function(e){var t=e.history,r=Object(b.c)((function(e){return e.cart})),c=Object(b.b)(),n=r.shippingInfo,s=Object(b.c)((function(e){return e.orderCreate})),o=s.order,u=(s.error,s.success);return r.itemsPrice=r.cartItems.reduce((function(e,t){return e+t.price*t.qty}),0).toFixed(2),r.shippingPrice=(r.ItemPrice>100?0:10).toFixed(2),r.taxPrice=(.01*Number(r.itemsPrice)).toFixed(2),r.totalPrice=(Number(r.itemsPrice)+Number(r.shippingPrice)+Number(r.taxPrice)).toFixed(2),Object(a.useEffect)((function(){u&&(t.push("/order/".concat(o.id,"/")),c({type:de}))}),[u,o]),Object(i.jsxs)(J.a,{className:"mt-5",children:[Object(i.jsx)(tt,{}),Object(i.jsx)("h3",{children:"REVIEW ORDER"}),Object(i.jsx)(j.a,{md:8,children:Object(i.jsxs)(ee.a,{children:[Object(i.jsxs)(ee.a.Item,{children:[Object(i.jsx)("h6",{children:"SHIPPING ADDRESS"}),Object(i.jsxs)("p",{children:[Object(i.jsx)("strong",{children:"Shipping Address:"})," "," ",n.address,", ",n.city,","," ",n.postalCode,","," ",n.country," "]})]}),Object(i.jsxs)(ee.a.Item,{children:[Object(i.jsx)("h6",{children:"PAYMENT METHOD"}),Object(i.jsxs)("p",{children:[Object(i.jsx)("strong",{children:"Method:"})," "," ",r.paymentMethod]})]}),Object(i.jsx)(ee.a.Item,{children:Object(i.jsx)("h6",{children:"ORDER ITEMS"})}),0===r.cartItems.length?Object(i.jsx)(Q,{children:"There are no items in the cart"}):Object(i.jsx)(ee.a,{children:r.cartItems.map((function(e,t){return Object(i.jsx)(ee.a.Item,{children:Object(i.jsxs)(J.a,{children:[Object(i.jsx)(j.a,{md:1,children:Object(i.jsx)(H.a,{src:e.image,fluid:!0,rounded:!0})}),Object(i.jsx)(j.a,{children:Object(i.jsx)(d.Link,{to:"/details/".concat(e.product,"/"),children:e.name})}),Object(i.jsxs)(j.a,{md:4,children:[e.qty," X $",e.price," = $",(e.qty*e.price).toFixed(2)]})]})},t)}))})]})}),Object(i.jsx)(j.a,{md:4,children:Object(i.jsx)(l.a,{children:Object(i.jsxs)(ee.a,{variant:"flush",children:[Object(i.jsx)(ee.a.Item,{children:Object(i.jsx)("h2",{children:"Order Summary"})}),Object(i.jsx)(ee.a.Item,{children:Object(i.jsxs)(J.a,{children:[Object(i.jsx)(j.a,{children:"Items:"}),Object(i.jsxs)(j.a,{children:["$",r.itemsPrice]})]})}),Object(i.jsx)(ee.a.Item,{children:Object(i.jsxs)(J.a,{children:[Object(i.jsx)(j.a,{children:"Shipping:"}),Object(i.jsxs)(j.a,{children:["$",r.shippingPrice]})]})}),Object(i.jsx)(ee.a.Item,{children:Object(i.jsxs)(J.a,{children:[Object(i.jsx)(j.a,{children:"Tax:"}),Object(i.jsxs)(j.a,{children:["$",r.taxPrice]})]})}),Object(i.jsx)(ee.a.Item,{children:Object(i.jsxs)(J.a,{children:[Object(i.jsx)(j.a,{children:"Total:"}),Object(i.jsxs)(j.a,{children:["$",r.totalPrice]})]})}),Object(i.jsx)(ee.a.Item,{children:Object(i.jsx)(p.a,{type:"button",className:"btn-block",disabled:0===r.cartItems,onClick:function(e){e.preventDefault(),c(function(e){return function(){var t=Object(f.a)(x.a.mark((function t(r,a){var c,n,s,i,o;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:Me}),c=a(),n=c.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n.token)}},t.next=6,A.a.post("/api/product/order",e,s);case 6:i=t.sent,o=i.data,r({type:qe,payload:o}),r({type:de}),localStorage.removeItem("cartItems"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),r({type:Be,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e,r){return t.apply(this,arguments)}}()}({orderItems:r.cartItems,shippingAddress:r.shippingInfo,paymentMethod:r.paymentMethod,itemsPrice:Number(r.itemsPrice),shippingPrice:Number(r.shippingPrice),taxPrice:Number(r.taxPrice),totalPrice:Number(r.totalPrice)}))},children:"PLACE ORDER"})})]})})})]})},ct=r(115),nt=r(116);var st=function(e){var t=e.match,r=(e.history,t.params.id),c=Object(b.b)(),n=(Object(b.c)((function(e){return e.userInfo})),Object(b.c)((function(e){return e.orderPay}))),s=(n.paymentResult,n.success),o=n.loading,u=Object(b.c)((function(e){return e.orderDetails})),p=u.order,h=u.error,O=u.loading,m=Object(a.useState)(!1),g=Object(K.a)(m,2),y=g[0],v=g[1];return O||h||(p.itemsPrice=p.orderItems.reduce((function(e,t){return e+t.price*t.qty}),0).toFixed(2)),Object(a.useEffect)((function(){var e;!p||s||p.id!==Number(r)?c((e=r,function(){var t=Object(f.a)(x.a.mark((function t(r,a){var c,n,s,i,o;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:Qe}),c=a(),n=c.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n.token)}},t.next=6,A.a.get("/api/product/order/".concat(e),s);case 6:i=t.sent,o=i.data,r({type:Je,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:$e,payload:t.t0.response&&t.t0.response.data.detail?t.t0.response.data.detail:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}())):p.isPaid||(window.paypal?v(!0):function(){var e=document.createElement("script");e.type="javascript/tex",e.src=Object(i.jsx)("script",{src:"https://www.paypal.com/sdk/js?client-id=AdXqlnZ3-_Kqj-7QxLox6nGOyU0Y6IDwbP8BllXcE4Cgw3LDDS6pJyPM5vidwU5HgsILZqehTRtCivRC"}),e.async=!0,e.onload=function(){Object(ct.a)("setSdkReady")},document.body.appendChild(e)}()),console.log("useEffect working!")}),[c,p,r,s]),O?Object(i.jsx)(q,{}):h?Object(i.jsx)(Q,{}):Object(i.jsxs)(J.a,{className:"mt-5",children:[Object(i.jsx)("h3",{children:"REVIEW ORDER"}),Object(i.jsx)(j.a,{md:8,children:Object(i.jsxs)(ee.a,{children:[Object(i.jsxs)(ee.a.Item,{children:[Object(i.jsx)("h6",{children:"SHIPPING ADDRESS"}),Object(i.jsxs)("p",{children:[Object(i.jsx)("strong",{children:"Shipping Address:"})," "," ",p.shippingAddress.address,", ",p.shippingAddress.city,","," ",p.shippingAddress.postalCode,","," ",p.shippingAddress.country," "]})]}),Object(i.jsxs)(ee.a.Item,{children:[Object(i.jsx)("h6",{children:"CUSTOMER DETAILS"}),Object(i.jsxs)("p",{children:[Object(i.jsx)("strong",{children:"Email:"})," "," ",Object(i.jsx)("a",{href:"mailto:".concat(p.user.email),children:p.user.email})," ",Object(i.jsx)("strong",{children:"Name:"})," "," ",p.user.name]}),p.isDelivered?Object(i.jsxs)(Q,{variant:"success",text:"Order delivered",children:["Delivered on ",p.deliveredAt]}):Object(i.jsx)(Q,{variant:"warning",text:"Not delivered",children:"Not Delivered"})]}),Object(i.jsxs)(ee.a.Item,{children:[Object(i.jsx)("h6",{children:"PAYMENT METHOD"}),Object(i.jsxs)("p",{children:[Object(i.jsx)("strong",{children:"Method:"})," "," ",p.paymentMethod]})]}),Object(i.jsx)(ee.a.Item,{children:Object(i.jsx)("h6",{children:"ORDER ITEMS"})}),0===p.orderItems.length?Object(i.jsx)(Q,{text:"No existing orders",children:"No existing orders"}):Object(i.jsx)(ee.a,{children:p.orderItems.map((function(e,t){return Object(i.jsx)(ee.a.Item,{children:Object(i.jsxs)(J.a,{children:[Object(i.jsx)(j.a,{md:1,children:Object(i.jsx)(H.a,{src:e.image,fluid:!0,rounded:!0})}),Object(i.jsx)(j.a,{children:Object(i.jsx)(d.Link,{to:"/details/".concat(e.product,"/"),children:e.name})}),Object(i.jsxs)(j.a,{md:4,children:[e.qty," X $",e.price," = $",(e.qty*e.price).toFixed(2)]})]})},t)}))}),Object(i.jsx)(ee.a.Item,{children:p.isPaid?Object(i.jsxs)(Q,{variant:"success",text:"Paid",children:["Delivered on ",p.deliveredAt]}):Object(i.jsx)(Q,{variant:"warning",text:"Not paid",children:"Not Delivered"})})]})}),Object(i.jsx)(j.a,{md:4,children:Object(i.jsx)(l.a,{children:Object(i.jsxs)(ee.a,{variant:"flush",children:[Object(i.jsx)(ee.a.Item,{children:Object(i.jsx)("h2",{children:"ORDER SUMMARY"})}),Object(i.jsx)(ee.a.Item,{children:Object(i.jsxs)(J.a,{children:[Object(i.jsx)(j.a,{children:"Items:"}),Object(i.jsxs)(j.a,{children:["$",p.itemsPrice]})]})}),Object(i.jsx)(ee.a.Item,{children:Object(i.jsxs)(J.a,{children:[Object(i.jsx)(j.a,{children:"Shipping:"}),Object(i.jsxs)(j.a,{children:["$",p.shippingPrice]})]})}),Object(i.jsx)(ee.a.Item,{children:Object(i.jsxs)(J.a,{children:[Object(i.jsx)(j.a,{children:"Tax:"}),Object(i.jsxs)(j.a,{children:["$",p.taxPrice]})]})}),Object(i.jsx)(ee.a.Item,{children:Object(i.jsxs)(J.a,{children:[Object(i.jsx)(j.a,{children:"Total:"}),Object(i.jsxs)(j.a,{children:["$",p.totalPrice]})]})}),!p.isPaid&&Object(i.jsxs)(ee.a.Item,{children:[o&&Object(i.jsx)(q,{}),y?Object(i.jsx)(q,{}):Object(i.jsx)(nt.PayPalButton,{amount:p.totalPrice,onSuccess:function(e){var t;c((t=r,function(){var e=Object(f.a)(x.a.mark((function e(r,a){var c,n,s,i,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{r({type:Ve}),c=a(),n=c.userLogin.userInfo,s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n.token)}},i=A.a.put("/api/product/order/".concat(t,"/pay"),s),o=i.data,r({type:ze,payload:o})}catch(h){r({type:We,payload:h.response&&h.response.data.detail?h.response.data.detail:h.message})}case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()))}})]})]})})})]})},it=r(195);var ot=function(e){var t=e.history,r=Object(b.c)((function(e){return e.usersList})),n=r.loading,s=r.users,o=r.error,d=Object(b.c)((function(e){return e.userLogin})).userInfo,j=Object(b.b)();return Object(a.useEffect)((function(){d&&d.isAdmin?j(function(){var e=Object(f.a)(x.a.mark((function e(t,r){var a,c,n,s,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Le}),a=r(),c=a.userLogin.userInfo,n={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(c.token)}},e.next=6,A.a.get("/api/account/users/",n);case 6:s=e.sent,i=s.data,t({type:we,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:_e,payload:e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()):t.push("/login")}),[j,t,d]),Object(i.jsx)(c.a.Fragment,{children:n?Object(i.jsx)(q,{})?o:Object(i.jsx)(Q,{text:o}):Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{children:"Subscribers"}),Object(i.jsxs)(Ge.a,{striped:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(i.jsx)("thead",{children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"ID"}),Object(i.jsx)("th",{children:"NAME"}),Object(i.jsx)("th",{children:"EMAIL"}),Object(i.jsx)("th",{children:"ADMIN"}),Object(i.jsx)("th",{})]})}),Object(i.jsx)("tbody",{children:s.map((function(e){return Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:e.id}),Object(i.jsx)("td",{children:e.name}),Object(i.jsx)("td",{children:e.email}),Object(i.jsx)("td",{children:e.isAdmin?Object(i.jsx)("i",{className:"fas fa-check",style:{color:"green"}}):Object(i.jsx)("i",{className:"fas fa-check",style:{color:"red"}})}),Object(i.jsxs)("td",{children:[Object(i.jsx)(it.a,{to:"/user/".concat(e.id,"/edit"),children:Object(i.jsx)(p.a,{variant:"light",className:"btn-sm",children:Object(i.jsx)("i",{className:"fas fa-edit"})})}),Object(i.jsx)(p.a,{variant:"danger",className:"btn-sm",onClick:function(){return t=e.name,void(window.confirm("Delete user?")&&console.log("delete item",t));var t},children:Object(i.jsx)("i",{className:"fas fa-trash"})})]})]},e.id)}))})]})]})})};var dt=function(){return Object(i.jsx)("div",{className:"App",children:Object(i.jsxs)(d.HashRouter,{children:[Object(i.jsx)(Ae,{}),Object(i.jsx)("main",{children:Object(i.jsxs)(pe.a,{children:[Object(i.jsx)(Z.d,{exact:!0,path:"/",component:X}),Object(i.jsx)(Z.d,{exact:!0,path:"/details/:id/",component:ce}),Object(i.jsx)(Z.d,{exact:!0,path:"/cart/:id?/",component:le}),Object(i.jsx)(Z.d,{exact:!0,path:"/login/",component:Ue}),Object(i.jsx)(Z.d,{exact:!0,path:"/register/",component:Fe}),Object(i.jsx)(Z.d,{exact:!0,path:"/profile/",component:Ze}),Object(i.jsx)(Z.d,{exact:!0,path:"/shipping/",component:Ke}),Object(i.jsx)(Z.d,{exact:!0,path:"/payment/",component:rt}),Object(i.jsx)(Z.d,{exact:!0,path:"/placeorder/",component:at}),Object(i.jsx)(Z.d,{exact:!0,path:"/order/:id/",component:st}),Object(i.jsx)(Z.d,{exact:!0,path:"/users/",component:ot})]})}),Object(i.jsx)(De,{})]})})},jt=r(68),lt=r(117),ut=[r(118).a],pt=Object(jt.combineReducers)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:return{loading:!0,products:[]};case g:return{loading:!1,products:t.payload.products,page:t.payload.page,pages:t.payload.pages};case y:return{loading:!1,error:t.payload.products};default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{reviews:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(ae.a)({loading:!0},e);case S:return{loading:!1,product:t.payload};case I:return{loading:!1,error:t.payload};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingInfo:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:var r=t.payload,a=e.cartItems.find((function(e){return e.product===r.product}));return a?Object(ae.a)(Object(ae.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===a.product?r:e}))}):Object(ae.a)(Object(ae.a)({},e),{},{cartItems:[].concat(Object($.a)(e.cartItems),[r])});case se:return Object(ae.a)(Object(ae.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});case ie:return Object(ae.a)(Object(ae.a)({},e),{},{shippingInfo:t.payload});case oe:return Object(ae.a)(Object(ae.a)({},e),{},{paymentMethod:t.payload});case de:return{};default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be:return{loading:!0};case Oe:return{loading:!1,userInfo:t.payload};case xe:return{loading:!1,error:t.payload};case fe:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:return{loading:!0};case ge:return{loading:!1,userInfo:t.payload};case ye:return{loading:!1,error:t.payload};case fe:return{};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ve:return Object(ae.a)(Object(ae.a)({},e),{},{loading:!0});case Ie:return{loading:!1,user:t.payload};case Se:return{loading:!1,error:t.payload};default:return e}},userDetailsUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ee:return{loading:!0};case Ce:return{loading:!1,userInfo:t.payload,success:!0};case Re:return{loading:!1,error:t.payload};case ke:return{};default:return e}},orderCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,orderItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me:return{loading:!0};case qe:return{loading:!1,success:!0,order:t.payload};case Be:return{loading:!1,error:t.payload};default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,shippingAddress:{},orderItems:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe:return Object(ae.a)(Object(ae.a)({},e),{},{loading:!0});case Je:return{loading:!1,order:t.payload};case $e:return{loading:!1,error:t.payload};default:return e}},orderPay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t){case Ve:return{loading:!0};case ze:return{loading:!1,success:!1,paymentResult:t.payload};case We:return{loading:!1,error:t.payload};default:return e}},userOrders:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case He:return{loading:!0};case Ye:return{loading:!1,orders:t.payload};case Xe:return{loading:!1,error:t.payload};default:return e}},usersList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le:return{loading:!0};case we:return{loading:!1,users:t.payload};case _e:return{loading:!1,error:t.payload};default:return e}},productReviews:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return{loading:!1};case R:return{loading:!1,reviews:t.payload,success:!0};case C:return{loading:!1,error:t.payload};case k:return{};default:return e}},productGetTop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(ae.a)({loading:!0},e);case _:return{loading:!1,products:t.payload};case w:return{loading:!1};default:return e}}}),ht={cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],shippingInfo:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{},paymentMethod:localStorage.getItem("paymentMethod")?JSON.parse(localStorage.getItem("paymentMethod")):""},userLogin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null}},bt=Object(jt.createStore)(pt,ht,Object(lt.composeWithDevTools)(jt.applyMiddleware.apply(void 0,ut)));s.a.render(Object(i.jsx)(b.a,{store:bt,children:Object(i.jsx)(dt,{})}),document.getElementById("root"))}},[[164,1,2]]]);
//# sourceMappingURL=main.8bdf2234.chunk.js.map